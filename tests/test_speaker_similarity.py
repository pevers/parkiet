"""
Test script for speaker embedding similarity functionality.
"""

import numpy as np
from parkiet.database.audio_store import AudioStore

STUTTER_EMBD = np.array(
    [
        -29.601484298706055,
        -50.5278434753418,
        35.639854431152344,
        -68.06407165527344,
        1.2766410112380981,
        -4.591033458709717,
        -42.93924331665039,
        -40.07588195800781,
        45.1003532409668,
        16.2726993560791,
        -7.040998935699463,
        65.26170349121094,
        -24.373281478881836,
        13.686347007751465,
        0.7793459892272949,
        -45.70375061035156,
        -20.500898361206055,
        -19.984346389770508,
        33.04225158691406,
        -15.704476356506348,
        -5.68557071685791,
        -37.3296012878418,
        -24.5699405670166,
        82.12103271484375,
        -3.893543004989624,
        0.8281567692756653,
        45.14334487915039,
        -3.6965272426605225,
        -31.278778076171875,
        5.032927513122559,
        -16.746034622192383,
        48.90666198730469,
        37.81636428833008,
        -47.965694427490234,
        10.963188171386719,
        83.85228729248047,
        31.47791290283203,
        -35.14185333251953,
        9.617890357971191,
        40.72785568237305,
        -2.3165435791015625,
        -6.283618450164795,
        33.135318756103516,
        16.685684204101562,
        -1.8561897277832031,
        57.69148254394531,
        58.681156158447266,
        31.71312713623047,
        -29.319442749023438,
        -20.630388259887695,
        0.44531771540641785,
        -46.25547409057617,
        -12.931333541870117,
        15.050080299377441,
        36.8511848449707,
        8.120221138000488,
        46.849571228027344,
        -6.7565388679504395,
        48.48716354370117,
        42.333351135253906,
        49.970054626464844,
        62.53373336791992,
        -10.174647331237793,
        -22.759531021118164,
        -2.40213680267334,
        49.40123748779297,
        -16.208858489990234,
        25.281099319458008,
        32.89418029785156,
        -35.95244598388672,
        -23.854137420654297,
        76.6363525390625,
        30.789424896240234,
        6.87160587310791,
        -28.260807037353516,
        -44.895084381103516,
        -28.621265411376953,
        4.679454326629639,
        40.17393112182617,
        46.991844177246094,
        2.111635684967041,
        20.12809181213379,
        -4.774179458618164,
        -48.9852294921875,
        24.41214942932129,
        4.791759967803955,
        -87.7611083984375,
        17.825916290283203,
        14.470439910888672,
        -3.540748119354248,
        19.504966735839844,
        -80.48664093017578,
        13.021095275878906,
        20.852643966674805,
        24.166790008544922,
        -20.74607276916504,
        36.60110092163086,
        6.043247222900391,
        -14.086081504821777,
        -75.87738800048828,
        -13.14397144317627,
        -5.797201156616211,
        0.5102906823158264,
        -2.1999802589416504,
        38.78953170776367,
        -46.3916130065918,
        -0.6258847713470459,
        16.15727424621582,
        33.867427825927734,
        11.096968650817871,
        -41.14930725097656,
        24.342195510864258,
        -49.123294830322266,
        4.096773624420166,
        54.382686614990234,
        11.971869468688965,
        -64.8719253540039,
        47.68135070800781,
        15.4153413772583,
        23.475204467773438,
        45.28351593017578,
        22.254026412963867,
        34.54445266723633,
        24.446561813354492,
        -30.764009475708008,
        -35.09479904174805,
        44.03815460205078,
        -2.7445385456085205,
        -19.90294647216797,
        -39.512237548828125,
        -21.333627700805664,
        5.085207939147949,
        47.583961486816406,
        28.292156219482422,
        -4.896663665771484,
        -21.920984268188477,
        -23.863033294677734,
        -16.464000701904297,
        7.361064434051514,
        34.77986145019531,
        -4.292545318603516,
        -34.7895622253418,
        44.399471282958984,
        -22.79244613647461,
        -37.607852935791016,
        -15.533431053161621,
        72.32332611083984,
        9.757047653198242,
        10.83406925201416,
        17.322208404541016,
        71.6199722290039,
        -62.5532341003418,
        -14.437753677368164,
        25.63390350341797,
        22.783639907836914,
        15.561406135559082,
        -35.12002944946289,
        11.913135528564453,
        -35.71799087524414,
        -92.63094329833984,
        -36.00615692138672,
        53.79423522949219,
        45.29897689819336,
        -13.74427604675293,
        8.972200393676758,
        22.524261474609375,
        -48.03958511352539,
        -6.602281093597412,
        2.9681787490844727,
        -35.75208282470703,
        -40.68267059326172,
        -5.365820407867432,
        18.303096771240234,
        66.65225982666016,
        -7.2614312171936035,
        10.130287170410156,
        21.62064552307129,
        -1.703881859779358,
        -10.90623950958252,
        14.415467262268066,
        -19.062732696533203,
        14.393120765686035,
        -10.085695266723633,
        -24.678913116455078,
        -3.128575325012207,
        14.837681770324707,
        -50.129127502441406,
        34.85639190673828,
        -39.63514709472656,
        -27.507959365844727,
        21.663293838500977,
        -68.11017608642578,
        -7.480981826782227,
        13.688960075378418,
        -45.316280364990234,
        -66.91715240478516,
        54.20779800415039,
        38.90371322631836,
        60.54835891723633,
        -26.405115127563477,
        -65.38200378417969,
        27.864036560058594,
        -60.338321685791016,
        -35.28142547607422,
        17.67337989807129,
        -15.633713722229004,
        -36.793819427490234,
        46.139671325683594,
        -14.480698585510254,
        -0.6692821979522705,
        67.0042724609375,
        -62.837867736816406,
        40.916072845458984,
        27.743671417236328,
        93.04588317871094,
        -17.30579376220703,
        -56.47315216064453,
        11.485055923461914,
        11.387876510620117,
        0.16651010513305664,
        16.486658096313477,
        -11.47833251953125,
        -31.652517318725586,
        39.3956413269043,
        28.541975021362305,
        -6.797509670257568,
        -37.89332962036133,
        -63.10541534423828,
        -5.78159761428833,
        49.914485931396484,
        33.160282135009766,
        42.549896240234375,
        -17.784509658813477,
        20.789827346801758,
        -32.95268630981445,
        67.29443359375,
        -0.9697912931442261,
        -1.0514262914657593,
        -34.98768997192383,
        -4.418396949768066,
        -32.99052047729492,
        -18.620468139648438,
        56.977210998535156,
        -46.37704849243164,
        45.278865814208984,
        -10.730135917663574,
        38.17231369018555,
        25.323532104492188,
        -62.98130798339844,
        -17.968523025512695,
        31.69765853881836,
        21.120182037353516,
        -6.954895973205566,
        5.664105415344238,
        5.603837013244629,
        23.465768814086914,
        -63.502681732177734,
        46.88975524902344,
        -12.41307258605957,
        0.3555935025215149,
        22.19463539123535,
        -30.712169647216797,
        -19.591182708740234,
        12.603047370910645,
        36.650794982910156,
        -28.430110931396484,
        15.30433464050293,
        33.034149169921875,
        55.11155319213867,
        -17.08624267578125,
        40.76943588256836,
        13.538495063781738,
        7.711337566375732,
        -17.068870544433594,
        40.15187454223633,
        -78.32390594482422,
        -19.167938232421875,
        26.428407669067383,
        -11.219701766967773,
        68.15597534179688,
        19.918251037597656,
        -21.786842346191406,
        -4.08206844329834,
        43.316104888916016,
        -22.405418395996094,
        11.644340515136719,
        11.06159782409668,
        -34.819725036621094,
        -44.320777893066406,
        16.833965301513672,
        60.74170684814453,
        21.212379455566406,
        2.17108154296875,
        52.558841705322266,
        -7.67722749710083,
        11.572044372558594,
        25.11048126220703,
        -55.20356750488281,
        33.00485610961914,
        58.91838836669922,
        -18.91314697265625,
        33.33171463012695,
        27.82360076904297,
        11.219307899475098,
        37.49259948730469,
        -16.968992233276367,
        -36.04924392700195,
        -25.859750747680664,
        6.754873752593994,
        -9.75015640258789,
        65.03524780273438,
        -8.13157844543457,
        23.7786808013916,
        20.863740921020508,
        12.759252548217773,
        41.44374465942383,
        -72.29652404785156,
        8.563111305236816,
        -0.9469349384307861,
        34.54423522949219,
        6.324578285217285,
        -1.6135437488555908,
        -28.973255157470703,
        41.55945587158203,
        0.9369446635246277,
        6.722537040710449,
        -2.5159950256347656,
        6.912268161773682,
        38.767024993896484,
        114.33353424072266,
        -63.49461364746094,
        -11.298307418823242,
        36.04729461669922,
        -24.90829849243164,
        58.34901428222656,
        -56.3874626159668,
        13.698722839355469,
        -20.996152877807617,
        -34.863521575927734,
        -20.284894943237305,
        -9.286103248596191,
        6.851746082305908,
        -17.891237258911133,
        2.8353793621063232,
        22.216304779052734,
        36.02849578857422,
        -1.0063061714172363,
        9.554914474487305,
        17.047534942626953,
        -13.196083068847656,
        25.312280654907227,
        30.430450439453125,
        85.26386260986328,
        0.30064746737480164,
        -29.40523338317871,
        29.421323776245117,
        23.448789596557617,
        -59.76133346557617,
        -34.622764587402344,
        -3.264572858810425,
        -23.76505470275879,
        23.663957595825195,
        -35.44757843017578,
        10.549429893493652,
        10.215340614318848,
        -45.80930709838867,
        1.0309467315673828,
        57.445343017578125,
        -12.749167442321777,
        24.421918869018555,
        -7.340951919555664,
        2.437659740447998,
        -5.088771820068359,
        -29.593910217285156,
        -0.9763566255569458,
        -81.19911193847656,
        -0.2617294192314148,
        40.49555206298828,
        0.5600118041038513,
        -7.401159763336182,
        15.039950370788574,
        14.085705757141113,
        -61.7568473815918,
        -44.519920349121094,
        20.478504180908203,
        -3.1278092861175537,
        -13.860396385192871,
        -96.0907974243164,
        15.518799781799316,
        -6.4823174476623535,
        -19.959867477416992,
        2.362811803817749,
        13.347301483154297,
        11.688274383544922,
        -53.167762756347656,
        -22.156396865844727,
        -33.88264846801758,
        72.36096954345703,
        36.820518493652344,
        15.930411338806152,
        18.100927352905273,
        49.449928283691406,
        17.68988800048828,
        -46.452701568603516,
        33.6365852355957,
        -21.794952392578125,
        44.567626953125,
        13.852140426635742,
        23.84405517578125,
        63.81025314331055,
        53.917659759521484,
        -49.92637634277344,
        7.913885116577148,
        21.059757232666016,
        20.134559631347656,
        -12.081931114196777,
        13.647043228149414,
        7.315637111663818,
        -26.891918182373047,
        -24.881370544433594,
        -8.507828712463379,
        -20.834938049316406,
        -14.389949798583984,
        -3.027940034866333,
        -3.2865259647369385,
        -3.435375928878784,
        -98.0141830444336,
        -30.690641403198242,
        23.429359436035156,
        -28.9678955078125,
        18.826351165771484,
        26.68648910522461,
        36.140872955322266,
        67.34384155273438,
        -30.67668342590332,
        -71.71468353271484,
        8.457993507385254,
        59.7004508972168,
        -34.56686782836914,
        43.426795959472656,
        31.11569595336914,
        -64.2622299194336,
        -46.43821334838867,
        -88.39338684082031,
        -19.634029388427734,
        28.64942741394043,
        20.06369400024414,
        2.349524974822998,
        -64.00713348388672,
        59.927825927734375,
        41.208457946777344,
        -7.6533732414245605,
        -13.841846466064453,
        -8.868631362915039,
        -35.954959869384766,
        23.97811508178711,
        8.579940795898438,
        69.7957534790039,
        -15.158710479736328,
        5.006850719451904,
        56.11140060424805,
        3.5459418296813965,
        4.948707103729248,
        -18.962793350219727,
        -0.43338704109191895,
        28.57139778137207,
        -29.037334442138672,
        12.6787109375,
        18.510570526123047,
        41.5237922668457,
        -9.022375106811523,
        37.477664947509766,
        41.70159912109375,
        -12.233622550964355,
        28.14931869506836,
        21.307273864746094,
        -17.456918716430664,
        -3.587702512741089,
        -28.34372329711914,
        -24.218191146850586,
        34.94052505493164,
        52.95556640625,
        -40.08083724975586,
        6.365525245666504,
        -88.89823913574219,
        26.933040618896484,
        20.17911720275879,
        -31.430448532104492,
        38.66432189941406,
        2.6882619857788086,
        7.87739896774292,
        -26.680212020874023,
        33.25959396362305,
        30.212255477905273,
        -40.41890335083008,
        1.049721360206604,
        12.487595558166504,
        -69.50166320800781,
        -39.50391387939453,
        26.13180923461914,
        -51.526248931884766,
        -15.73104190826416,
        46.7442512512207,
        4.631275653839111,
        -37.356510162353516,
        -58.976322174072266,
        5.743391513824463,
        26.651565551757812,
        15.378629684448242,
        12.079289436340332,
        -14.671059608459473,
        -42.82929229736328,
    ]
)

LAUGHTER_EMBD = np.array(
    [
        -4.692651271820068,
        10.219443321228027,
        34.853843688964844,
        -22.028785705566406,
        31.97403335571289,
        76.98944091796875,
        -34.04560852050781,
        18.933713912963867,
        -1.2758461236953735,
        22.437475204467773,
        -8.906350135803223,
        33.636131286621094,
        -3.0221757888793945,
        26.962995529174805,
        -8.291094779968262,
        -45.36498260498047,
        -15.385802268981934,
        -33.974422454833984,
        13.247901916503906,
        -34.43379211425781,
        -26.56271743774414,
        19.00464630126953,
        8.727507591247559,
        4.437063217163086,
        -59.090179443359375,
        -55.43513870239258,
        45.76104736328125,
        13.836244583129883,
        20.82417869567871,
        -29.753355026245117,
        46.49973678588867,
        13.078853607177734,
        71.82769775390625,
        20.722036361694336,
        5.322088241577148,
        6.023344993591309,
        9.664960861206055,
        50.73819351196289,
        -19.88817024230957,
        36.78950881958008,
        -56.99223327636719,
        30.23618507385254,
        19.743175506591797,
        -27.480609893798828,
        -19.74325180053711,
        25.04918098449707,
        50.94182586669922,
        52.02006912231445,
        31.9726505279541,
        2.726518154144287,
        -11.542826652526855,
        14.03282642364502,
        -30.335472106933594,
        76.64498138427734,
        4.972084045410156,
        6.639901161193848,
        26.62403106689453,
        4.7774481773376465,
        10.462300300598145,
        -13.540103912353516,
        52.64793395996094,
        -11.154314041137695,
        -23.72356414794922,
        -58.981407165527344,
        21.375688552856445,
        -13.084871292114258,
        -20.1072998046875,
        -11.721280097961426,
        -15.114274978637695,
        -14.275769233703613,
        21.2722110748291,
        43.457515716552734,
        23.522354125976562,
        41.65998077392578,
        -34.38178253173828,
        -34.32398223876953,
        27.672327041625977,
        -50.660194396972656,
        8.781941413879395,
        38.028076171875,
        6.827182292938232,
        -45.125755310058594,
        -30.73670196533203,
        -52.296348571777344,
        -6.192180156707764,
        2.5262959003448486,
        -79.06432342529297,
        -29.825870513916016,
        22.37718963623047,
        -46.49304962158203,
        29.518047332763672,
        -30.026472091674805,
        53.9493522644043,
        65.32709503173828,
        22.452051162719727,
        20.659177780151367,
        -29.693071365356445,
        35.74238586425781,
        -8.548468589782715,
        -26.267133712768555,
        -11.937941551208496,
        12.622570037841797,
        3.8719468116760254,
        -36.1163330078125,
        12.005369186401367,
        -60.79030990600586,
        -52.33090591430664,
        -15.686630249023438,
        33.86021423339844,
        70.30416107177734,
        -31.31416130065918,
        24.454145431518555,
        6.891035556793213,
        -11.919703483581543,
        33.66704177856445,
        27.075183868408203,
        -29.341493606567383,
        -32.35802459716797,
        18.609661102294922,
        2.814472198486328,
        -15.45215892791748,
        12.219304084777832,
        32.24142074584961,
        21.79783821105957,
        -19.812898635864258,
        1.115551471710205,
        71.17803955078125,
        5.738097190856934,
        -22.435184478759766,
        -46.85866165161133,
        -11.138731956481934,
        11.921324729919434,
        -0.4565200209617615,
        -4.3572211265563965,
        9.278816223144531,
        -30.253068923950195,
        24.70024871826172,
        16.017236709594727,
        0.3865721821784973,
        -13.272048950195312,
        0.9053993821144104,
        -31.424116134643555,
        -39.33080291748047,
        -63.093894958496094,
        -47.112060546875,
        -28.078344345092773,
        -3.493983030319214,
        0.3702184557914734,
        16.56159210205078,
        -37.062225341796875,
        11.719536781311035,
        -58.68409729003906,
        -41.11235427856445,
        -29.21135902404785,
        21.903982162475586,
        2.663616895675659,
        -33.27277755737305,
        -19.00343894958496,
        -13.217681884765625,
        -33.044029235839844,
        37.346309661865234,
        -4.2742133140563965,
        21.790861129760742,
        -32.31048583984375,
        8.293349266052246,
        9.048070907592773,
        -16.25124740600586,
        -17.49419593811035,
        44.186363220214844,
        -64.90959930419922,
        9.40876579284668,
        -55.46365737915039,
        14.771236419677734,
        -29.675010681152344,
        -5.107637882232666,
        -9.428686141967773,
        22.03074073791504,
        63.42377853393555,
        2.800161838531494,
        21.34994125366211,
        24.356765747070312,
        -24.15730094909668,
        26.435911178588867,
        -14.903414726257324,
        0.07133108377456665,
        39.66672134399414,
        -70.13997650146484,
        -4.528136253356934,
        6.870760917663574,
        2.3154330253601074,
        43.43421936035156,
        -19.086406707763672,
        44.70940017700195,
        15.29340648651123,
        -3.7733821868896484,
        -19.455842971801758,
        -33.447181701660156,
        -9.283285140991211,
        31.489776611328125,
        -31.908071517944336,
        -67.3828125,
        -41.13018035888672,
        -17.703210830688477,
        26.907621383666992,
        3.994335174560547,
        33.83729934692383,
        -12.250593185424805,
        -8.02755355834961,
        -8.733559608459473,
        66.74755096435547,
        5.970919609069824,
        19.084596633911133,
        21.867691040039062,
        53.53548812866211,
        81.04116821289062,
        -7.550537109375,
        -47.263816833496094,
        -6.182330131530762,
        15.801033020019531,
        58.22576904296875,
        -10.225950241088867,
        3.885679006576538,
        -28.538389205932617,
        7.183420181274414,
        10.217615127563477,
        2.164987087249756,
        1.9667519330978394,
        2.182156801223755,
        -1.5452511310577393,
        -17.283510208129883,
        6.119382858276367,
        48.01118850708008,
        15.460278511047363,
        -54.77482223510742,
        -94.73234558105469,
        8.069080352783203,
        -22.256032943725586,
        -38.819183349609375,
        11.36550521850586,
        34.00208282470703,
        -61.483394622802734,
        -17.047222137451172,
        24.47963523864746,
        -14.979084968566895,
        36.72607421875,
        14.088570594787598,
        8.251964569091797,
        23.291507720947266,
        -67.73456573486328,
        -37.116615295410156,
        -5.563868522644043,
        -52.47336196899414,
        30.584869384765625,
        -29.849197387695312,
        56.9895133972168,
        70.64091491699219,
        -49.08977127075195,
        48.31328201293945,
        -35.79393768310547,
        2.35071063041687,
        11.900668144226074,
        -26.25225830078125,
        8.680618286132812,
        1.3276070356369019,
        -9.550860404968262,
        -9.441234588623047,
        3.7846784591674805,
        30.718488693237305,
        18.467741012573242,
        -13.5621337890625,
        -6.477995872497559,
        20.903661727905273,
        -11.46965217590332,
        -44.89929962158203,
        -34.229957580566406,
        -84.4137191772461,
        -15.033535957336426,
        6.829156398773193,
        20.353281021118164,
        -6.381564140319824,
        -7.298183917999268,
        -70.88218688964844,
        -24.501989364624023,
        61.97029113769531,
        -27.281387329101562,
        -19.694332122802734,
        35.516990661621094,
        18.820213317871094,
        50.644561767578125,
        38.49681854248047,
        5.435229301452637,
        -32.973663330078125,
        4.705852508544922,
        16.49639129638672,
        -21.595930099487305,
        -40.626827239990234,
        36.58450698852539,
        -7.292972087860107,
        29.72156524658203,
        64.80157470703125,
        18.925201416015625,
        -14.50998306274414,
        29.212284088134766,
        15.293046951293945,
        45.77068328857422,
        7.211265563964844,
        8.062252044677734,
        16.445560455322266,
        18.890165328979492,
        3.8542327880859375,
        51.56064224243164,
        -32.156654357910156,
        21.737751007080078,
        -62.67138671875,
        1.3781791925430298,
        -32.07658004760742,
        -11.062835693359375,
        -11.613389015197754,
        1.9395358562469482,
        11.358417510986328,
        -56.49966812133789,
        0.19430989027023315,
        -19.305706024169922,
        -18.71096420288086,
        18.013381958007812,
        -12.53513240814209,
        26.548442840576172,
        9.356831550598145,
        -5.977054595947266,
        36.179527282714844,
        -26.792694091796875,
        9.843725204467773,
        44.576393127441406,
        9.914953231811523,
        -2.651981830596924,
        10.826767921447754,
        -17.543720245361328,
        -22.943578720092773,
        -11.223414421081543,
        -20.65718650817871,
        -18.7871036529541,
        -46.31272888183594,
        7.988282203674316,
        -12.343730926513672,
        -35.38560104370117,
        -1.139845848083496,
        22.621795654296875,
        40.483116149902344,
        -15.495174407958984,
        30.94719886779785,
        -10.285026550292969,
        0.6309270858764648,
        12.472247123718262,
        -40.26759719848633,
        23.499711990356445,
        29.16455841064453,
        11.830709457397461,
        -42.91925811767578,
        -33.48484802246094,
        -12.776548385620117,
        -25.94063377380371,
        -26.655668258666992,
        -93.21849822998047,
        34.67281723022461,
        30.613971710205078,
        -55.240150451660156,
        -13.696256637573242,
        -6.60736083984375,
        -25.58517837524414,
        16.480833053588867,
        29.4068660736084,
        37.78337478637695,
        9.49494743347168,
        -44.69202423095703,
        8.799427032470703,
        -50.40458297729492,
        -54.555519104003906,
        -21.670291900634766,
        -38.77531051635742,
        -20.668445587158203,
        -40.58137130737305,
        34.66900634765625,
        24.93549156188965,
        -34.36151123046875,
        -54.55582809448242,
        28.341039657592773,
        32.517578125,
        -74.81658935546875,
        39.02713394165039,
        19.878149032592773,
        17.620803833007812,
        -45.97517776489258,
        84.6319808959961,
        -54.93225860595703,
        44.07759094238281,
        -47.724021911621094,
        -14.178107261657715,
        57.99568176269531,
        -3.951706886291504,
        20.88994598388672,
        43.1295051574707,
        22.106168746948242,
        -11.714579582214355,
        -15.161940574645996,
        22.535171508789062,
        34.03215026855469,
        39.88301086425781,
        34.167724609375,
        18.295631408691406,
        13.983080863952637,
        32.83632278442383,
        -14.1131591796875,
        -13.00778865814209,
        23.88898468017578,
        48.78473663330078,
        -36.2591552734375,
        11.733957290649414,
        -9.869378089904785,
        0.7766258120536804,
        13.928306579589844,
        -66.43724822998047,
        -67.26481628417969,
        -10.095260620117188,
        -13.919392585754395,
        10.667206764221191,
        16.49319839477539,
        24.987686157226562,
        20.999841690063477,
        20.768390655517578,
        -21.023418426513672,
        -28.395254135131836,
        -11.57726764678955,
        2.420833110809326,
        -20.479671478271484,
        -36.02332305908203,
        -50.14931106567383,
        -41.63582229614258,
        27.921123504638672,
        -33.12140655517578,
        63.789459228515625,
        -6.9258575439453125,
        -14.429388046264648,
        -58.730003356933594,
        -31.309127807617188,
        2.309751510620117,
        -26.361156463623047,
        -12.413013458251953,
        -2.7652573585510254,
        10.071781158447266,
        3.9396660327911377,
        54.45245361328125,
        88.28033447265625,
        -28.24032211303711,
        34.28907012939453,
        -32.90616989135742,
        43.81809616088867,
        75.62051391601562,
        49.00508499145508,
        4.00677490234375,
        -36.57078170776367,
        37.063514709472656,
        -20.88555908203125,
        -9.295794486999512,
        21.722837448120117,
        13.400300025939941,
        66.35676574707031,
        43.05419921875,
        22.978397369384766,
        5.405542850494385,
        3.554841995239258,
        14.528263092041016,
        29.09815216064453,
        -20.092649459838867,
        -12.060851097106934,
        19.310972213745117,
        -9.446684837341309,
        -23.58795738220215,
        -3.894765615463257,
        6.4249725341796875,
        -42.61994171142578,
        -14.394250869750977,
        -22.384729385375977,
        4.972113609313965,
        13.102468490600586,
        -72.55970001220703,
        0.41367214918136597,
        4.972362995147705,
        -30.456233978271484,
        -5.595577239990234,
        33.340904235839844,
        18.15113639831543,
        -33.400550842285156,
        -8.310412406921387,
        14.739130020141602,
        11.184728622436523,
        -6.303531169891357,
        3.712092876434326,
        -10.13935375213623,
        -5.035929203033447,
        31.097047805786133,
        -28.427486419677734,
        19.5748291015625,
        46.59208297729492,
        -18.342365264892578,
        8.887295722961426,
        19.908926010131836,
        -59.84287643432617,
        18.293092727661133,
        28.435861587524414,
        -14.229514122009277,
        -48.6961784362793,
        -10.644658088684082,
    ]
)


def test_random_vectors_similarity():
    store = AudioStore(similarity_threshold=0.5)
    vec1 = np.random.randn(512)
    vec2 = np.random.randn(512)
    ids = store.store_speaker_embeddings({"A": vec1})
    found_id = store._find_similar_speaker(vec2)
    # Should not be similar most of the time
    assert (found_id is None) or (ids["A"] != found_id)


def test_identical_vectors_similarity():
    store = AudioStore(similarity_threshold=0.33)
    vec = np.ones(512, dtype=np.float32)
    ids = store.store_speaker_embeddings({"A": vec})
    found_id = store._find_similar_speaker(vec)
    assert found_id == ids["A"]


def test_sample_similarity():
    store = AudioStore(similarity_threshold=0.95)
    ids = store.store_speaker_embeddings({"C": STUTTER_EMBD})
    found_id = store._find_similar_speaker(STUTTER_EMBD)
    assert found_id == ids["C"]
